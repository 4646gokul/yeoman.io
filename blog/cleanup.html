<!DOCTYPE html><html lang=en data-version=99fb665><head><meta charset=utf-8><title>Generators New Year Cleanup! | Yeoman</title><meta name=viewport content="width=device-width"><link rel=icon type=image/x-icon href=/static/favicon.b25e58c4b8.ico><meta name=google-site-verification content=fBQRJ6h7MV7_TJ7grbgq4P-d-07NRfDWPe4pqEEoH5w><link href="//fonts.googleapis.com/css?family=Roboto+Slab:400,700%7CRoboto:400,700,700italic,400italic" rel=stylesheet><link rel=stylesheet href=/static/bundle-4838.fce9a041d7.css><link href=/blog/atom.xml type=application/atom+xml rel=alternate title="Yeoman Blog Atom Feed"></head><body><header class=page-header><div class=container><div class=mobile-bar><h1 class=logo><a href=/ ><img src=/static/logo.2a54d87108.png alt=Yeoman></a></h1><button class="mobile-menu-toggle ir">open</button></div><nav class=main-menu><ul class=main-nav><li><a href=/learning/ >Using Yeoman</a><ul> <li><a href=/learning/index.html>Getting started</a></li> <li><a href=/codelab/index.html>Tutorial (codelab)</a></li> <li><a href=/learning/resources.html>Resources</a></li> <li><a href=/learning/deployment.html>Deployment</a></li> <li><a href=/learning/faq.html>FAQ</a></li> <li><a href=/learning/support.html>Support</a></li></ul></li><li><a href=/generators/ >Discovering generators</a></li> <li><a href=/authoring/ >Creating a generator</a><ul> <li><a href=/authoring/index.html>Getting started</a></li> <li><a href=/authoring/running-context.html>Running Context</a></li> <li><a href=/authoring/user-interactions.html>User Interactions</a></li> <li><a href=/authoring/composability.html>Composability</a></li> <li><a href=/authoring/dependencies.html>Managing Dependencies</a></li> <li><a href=/authoring/file-system.html>Interacting with the file system</a></li> <li><a href=/authoring/storage.html>Storing user configs</a></li> <li><a href=/authoring/testing.html>Unit testing</a></li> <li><a href=/authoring/debugging.html>Debugging Generators</a></li> <li><a href=/authoring/integrating-yeoman.html>Integrating Yeoman in other tools</a></li> <li><a href=https://yeoman.github.io/generator/ >Full API documentation</a></li></ul></li><li><a href=/blog/ class=active>Blog</a></li> <li><a href=/contributing/ >Contributing</a><ul> <li><a href=/contributing/index.html>Contributing</a></li> <li><a href=/contributing/opening-issues.html>How to open an issue</a></li> <li><a href=/contributing/pull-request.html>How to submit a PR</a></li> <li><a href=/contributing/style-guide.html>Style Guide</a></li> <li><a href=/contributing/testing-guidelines.html>Testing Guidelines</a></li> <li><a href=/contributing/ticketing.html>Issue system overview</a></li></ul></li></ul></nav></div></header><div class=SiteWrapper><div id=content><h2 class=page-title><span class=container>Generators New Year Cleanup!</span></h2><div class="container clearfix"><article class=main><section class=content-chunk><section><div class="blog-post-meta clearfix"><p class=date>21 Jan 2014</p><div class=social><a href=https://twitter.com/share class=twitter-share-button data-text="" data-url="">Tweet</a><script>!function(a,b,c){var d,e=a.getElementsByTagName(b)[0],f=/^http:/.test(a.location)?'http':'https';a.getElementById(c)||(d=a.createElement(b),d.id=c,d.src=f+'://platform.twitter.com/widgets.js',e.parentNode.insertBefore(d,e))}(document,'script','twitter-wjs')//# sourceMappingURL=../static/yeoman-4977.a4780b8280.map </script><script src=https://apis.google.com/js/plusone.js></script><g:plus action=share></g:plus></div></div><div class=post><p>A lots of changes and new features have been introduced in the Generator System (<code class=highlighter-rouge>npm search yeoman-generator</code>) lately. If you’re not watching the <a href=https://github.com/yeoman/generator>yeoman/generator</a>, maybe you’ve been let down on the latest changes. Fear not, we <a href=https://github.com/yeoman/generator/releases>documented every recent release in our changelog</a>!</p><p>Along with the new year start, we’ve decided to build a todos list of the most important changes our official generators should implement. This will allow them to be clean, but also ready for the new upcoming feature; notably the capacity to compose multiples generators together!</p><p>You may not be an official generator maintainer, but we invite you to follow our lead and make sure you follow these guidelines. So, here it goes!</p><h3 id=generators-should-generate-a-yo-rcjson-file>Generators should generate a <code class=highlighter-rouge>.yo-rc.json</code> file</h3><p>The <code class=highlighter-rouge>.yo-rc.json</code> file allow you to save configuration, but is also the marker used to define a project root folder. This allow user from running <code class=highlighter-rouge>yo</code> command from sub directory to work on their whole project.</p><p>It is also how composed generators will know what is the root of a project.</p><p>Simply add this line somewhere in your generator to generate the file at least once:</p><div class="language-javascript highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=k>this</span><span class=p>.</span><span class=nx>config</span><span class=p>.</span><span class=nx>save</span><span class=p>();</span>
</code></pre></div></div><p>Of course, if you’re using the config object to store datas, it’ll already be created. <a href=https://yeoman.github.io/generator/Storage.html>Read more on the config Storage in our API reference</a>.</p><h3 id=use-the-new-extend-method-instead-of-utilinherit>Use the new <code class=highlighter-rouge>.extend()</code> method instead of <code class=highlighter-rouge>util.inherit</code></h3><p>Until recently, you’d extend the Base generator this way:</p><div class="language-javascript highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=kd>var</span> <span class=nx>BlogGenerator</span> <span class=o>=</span> <span class=p>(</span><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
  <span class=nx>generators</span><span class=p>.</span><span class=nx>Base</span><span class=p>.</span><span class=nx>apply</span><span class=p>(</span><span class=k>this</span><span class=p>,</span> <span class=kr>arguments</span><span class=p>);</span>
  <span class=c1>// ...</span>
<span class=p>});</span>

<span class=nx>util</span><span class=p>.</span><span class=nx>inherits</span><span class=p>(</span><span class=nx>BlogGenerator</span><span class=p>,</span> <span class=nx>generators</span><span class=p>.</span><span class=nx>Base</span><span class=p>);</span>
</code></pre></div></div><p>You can now do the same in a fashion similar to Backbone.js:</p><div class="language-javascript highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=kd>var</span> <span class=nx>BlogGenerator</span> <span class=o>=</span> <span class=p>(</span><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=nx>generators</span><span class=p>.</span><span class=nx>Base</span><span class=p>.</span><span class=nx>extend</span><span class=p>({</span>
  <span class=cm>/* prototype methods goes here */</span>
<span class=p>}));</span>
</code></pre></div></div><p>As you may know, our next big milestone is to allow generator to be composed with each other. This mean you’ll be able to use external generators inside your own, and allow user to build their app using multiple generators (like, I want to build an app with Sailsjs and Angular, with Bootstrap and support for Jenkins tests). Using the <code class=highlighter-rouge>.extend</code> inheritance signature will make it easier to get your generator ready to integrate into the composable yeoman ecosystem.</p><p>Note that we extracted the <a href=https://github.com/SBoudrias/class-extend>inheritance logic into a small standalone NPM module</a>. It’ll be easy to add such functionnality into your own projects without any overhead!</p><h3 id=remove-use-of-deprecated-test-methods>Remove use of deprecated test methods</h3><p>In release <code class=highlighter-rouge>0.16.0</code>, we deprecated some tests methods and added some other. Deprecation are now logged to the console, so make sure you get rid of those!</p><p>Also, <a href=https://yeoman.github.io/generator/assert.html>helpers assertions methods</a> are now exposed on the <code class=highlighter-rouge>yeoman.assert</code> namespace.</p><h3 id=update-dependencies-in-the-generated-bowerjson-and-packagejson>Update dependencies in the generated bower.json and package.json</h3><p>As usual, update your deps. You may use <a href=https://github.com/alanshaw/david>david tool</a> for that.</p><h3 id=make-sure-packagejson-peerdependencies-do-not-use-tilde--versioning>Make sure package.json <code class=highlighter-rouge>peerDependencies</code> do not use tilde <code class=highlighter-rouge>~</code> versioning</h3><p>NPM <code class=highlighter-rouge>peerDependencies</code> are tricky to get right. As they’re installed in the global <code class=highlighter-rouge>node_modules</code> folder, they’re often the cause of installation errors due to incompatible version required between differents packages. Please, be a good citizen and don’t make the issue worse by using restrictive version requirement.</p><p>So, make it a rule to always defines <code class=highlighter-rouge>peerDependencies</code> version using a minimum range (<code class=highlighter-rouge>&gt;=</code>), or using any available version (<code class=highlighter-rouge>*</code>).</p><div class="language-json highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=p>{</span><span class=w>
  </span><span class=s2>"peerDependencies"</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w>
    </span><span class=err>//</span><span class=w> </span><span class=err>GOOD</span><span class=w>
    </span><span class=s2>"grunt-cli"</span><span class=p>:</span><span class=w> </span><span class=s2>"&gt;= 0.1.0"</span><span class=p>,</span><span class=w>
    </span><span class=err>//</span><span class=w> </span><span class=err>GOOD</span><span class=w>
    </span><span class=s2>"gulp"</span><span class=p>:</span><span class=w> </span><span class=s2>"*"</span><span class=p>,</span><span class=w>
    </span><span class=err>//</span><span class=w> </span><span class=err>BAD</span><span class=w> </span><span class=err>-</span><span class=w> </span><span class=err>don't</span><span class=w> </span><span class=err>ever</span><span class=w> </span><span class=err>do</span><span class=w> </span><span class=err>this</span><span class=w>
    </span><span class=s2>"generator-karma"</span><span class=p>:</span><span class=w> </span><span class=s2>"~1.2.0"</span><span class=p>,</span><span class=w>
    </span><span class=s2>"generator-commonjs"</span><span class=p>:</span><span class=w> </span><span class=s2>"1.2.0"</span><span class=w>
  </span><span class=p>}</span><span class=w>
</span><span class=p>}</span><span class=w>
</span></code></pre></div></div><h3 id=on-that-good-luck>On that, good luck!</h3><p>That’s all folks! Good luck and keep on building awesome generators.</p><p>If you’re a generator author, you really should click the <a href=https://github.com/yeoman/generator><code class=highlighter-rouge>watch</code> button on the Generator system repo</a> - this way you’ll be kept up to date on our future plan and updates. Also make sure to check the <code class=highlighter-rouge>[Composability]</code> issues, this is our next big milestone and we need your feedback!</p></div><hr><a href=/blog/ >« View More Posts</a></section></section></article></div></div><footer class=SiteFooter><div class=SiteFooter-donation><div class=Donation><div class=Donation-sticker-clipping><img src=/static/yeoman-character-sticker.51cef7e007.png class=Donation-sticker width=190 height=294 alt=Stickers!></div><div class=Donation-text><a href=https://yeoman.threadless.com/ >Show your love for <strong>Yeoman</strong>, <br> wear our <strong>merch</strong>!</a></div></div></div><ul class=SiteFooter-links><li><a href=https://plus.google.com/101063139999404044459/posts class=icon><img src=/static/social-gplus.5223e7bc73.svg class=SiteFooter-icon alt=Google+></a></li> <li><a href=https://twitter.com/yeoman class=icon><img src=/static/social-twitter.c359540fc8.svg class=SiteFooter-icon alt=Twitter></a></li> <li><a href=https://github.com/yeoman/yeoman class=icon><img src=/static/social-github.89959ef390.svg class=SiteFooter-icon alt=Github></a></li> <li><a href=/blog/atom.xml class=icon><img src=/static/social-feed.ad4bea7819.svg class=SiteFooter-icon alt=Feed></a></li> <li class=mobile-ln></li> <li><a href=https://yeoman.github.io/generator/ class="SiteFooter-button SiteFooter-button--light">API</a></li> <li><a href=https://github.com/yeoman/yeoman.github.io/blob/source/app/_posts/blog/2014-01-21-cleanup.md class=SiteFooter-button title="Edit this page on Github to help improve the site">Improve this page</a></li></ul></footer><script src=//ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js></script><script src=/static/bundle-4897.f58dbfb7a4.js async></script><script>!function(a,b,c){'undefined'!=typeof c.module&&c.module.exports?c.module.exports=b():'undefined'!=typeof c.define&&'function'==c.define&&c.define.amd?define(a,b):c[a]=b()}('$script',function(){function a(a,b){for(var c=0,d=a.length;c<d;++c)if(!b(a[c]))return m;return 1}function b(b,c){a(b,function(a){return!c(a)})}function c(f,g,m){function o(a){return a.call?a():i[a]}function p(){if(!--t){i[s]=1,r&&r();for(var c in k)a(c.split('|'),o)&&!b(k[c],o)&&(k[c]=[])}}f=f[n]?f:[f];var q=g&&g.call,r=q?g:m,s=q?f.join(''):g,t=f.length;return setTimeout(function(){b(f,function(a){return l[a]?(s&&(j[s]=1),2==l[a]&&p()):(l[a]=1,s&&(j[s]=1),d(!h.test(a)&&e?e+a+'.js':a,p),void 0)})},0),c}function d(a,b){var c=f.createElement('script'),d=m;c.onload=c.onerror=c[r]=function(){c[p]&&!/^c|loade/.test(c[p])||d||(c.onload=c[r]=null,d=1,l[a]=2,b())},c.async=1,c.src=a,g.insertBefore(c,g.firstChild)}var e,f=document,g=f.getElementsByTagName('head')[0],h=/^https?:\/\//,i={},j={},k={},l={},m=!1,n='push',o='DOMContentLoaded',p='readyState',q='addEventListener',r='onreadystatechange';return!f[p]&&f[q]&&(f[q](o,function s(){f.removeEventListener(o,s,m),f[p]='complete'},m),f[p]='loading'),c.get=d,c.order=function(a,b,d){!function e(f){f=a.shift(),a.length?c(f,e):c(f,b,d)}()},c.path=function(a){e=a},c.ready=function(d,e,f){d=d[n]?d:[d];var g=[];return!b(d,function(a){i[a]||g[n](a)})&&a(d,function(a){return i[a]})?e():!function(a){k[a]=k[a]||[],k[a][n](e),f&&f(g)}(d.join('|')),c},c},this);var _gaq=[['_setAccount','UA-32956520-1'],['_setDomainName','.yeoman.io'],['_trackPageview'],['_trackPageLoadTime']];$script('https://www.google-analytics.com/ga.js'),$script('https://apis.google.com/js/plusone.js'),$script('//platform.twitter.com/widgets.js')//# sourceMappingURL=../static/yeoman-4978.f5cbe7e97e.map </script></div></body></html>